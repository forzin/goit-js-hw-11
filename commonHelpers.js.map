{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nconst form = document.querySelector(`.form`);\nconst inputValue = document.querySelector(`input[type=\"text\"]`);\nconst gallery = document.querySelector(`.ul-gallery`);\nconst loader = document.querySelector(`.loader-container`);\n\n\nconst createGalleryCard = (imgInfo) => {\n    return `\n    <li class=\"gallery-card\">\n       <a href=\"${imgInfo.largeImageURL}\" title=\"${imgInfo.tags}\">\n           <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n       </a>\n       <ul class=\"stat-img\">\n           <li class=\"img-stat-item\">Likes <span class=\"number-of-stat\">${imgInfo.likes}</span></li>\n           <li class=\"img-stat-item\">Views <span class=\"number-of-stat\">${imgInfo.views}</span></li>\n           <li class=\"img-stat-item\">Comments <span class=\"number-of-stat\">${imgInfo.comments}</span></li>\n           <li class=\"img-stat-item\">Downloads <span class=\"number-of-stat\">${imgInfo.downloads}</span></li>\n       </ul>\n    </li>\n    `;\n}\n\nconst searchForm = event => {\n    event.preventDefault();\n    \n    gallery.innerHTML = '';\n    loader.classList.remove(`is-hidden`);\n    \n    fetch(`https://pixabay.com/api/?q=${inputValue.value}&orientation=horizontal&per_page=9&key=45497630-f588d73f1b1f7379927f92167`)\n       .then(response => {\n           if (!response.ok) {\n               throw new Error(response.status);\n           }\n\n        return response.json();\n       })\n       .then(data => {\n           \n           if (data.hits.length === 0) {\n            iziToast.show({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n\n                backgroundColor: '#ef4040',\n                messageColor: '#fafafb',\n                messageSize: '16px',\n                messageLineHeight: '150%',\n\n                maxWidth: 432,\n                position: 'topRight',\n\n                iconUrl: `./img/icon-error.svg`,\n            });\n           } else {\n             inputValue.value = '';\n             const createGallery = data.hits.map(img => createGalleryCard(img)).join('');\n             gallery.innerHTML = createGallery;\n             lightbox.refresh();\n\n             loader.classList.add(`is-hidden`);\n           }\n       })\n       .catch(err => {\n           console.log(err);\n       });\n};\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    lightbox = new SimpleLightbox('.ul-gallery a', {\n        captions: true,\n        captionDelay: 250,\n        animationSpeed: 300,\n        captionsData: 'title'\n    });\n});\n\nform.addEventListener(`submit`, searchForm);\n    "],"names":["lightbox","form","inputValue","gallery","loader","createGalleryCard","imgInfo","searchForm","event","response","data","iziToast","createGallery","img","err","SimpleLightbox"],"mappings":"6vBAOA,IAAIA,EAEJ,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,mBAAmB,EAGnDC,EAAqBC,GAChB;AAAA;AAAA,kBAEOA,EAAQ,aAAa,YAAYA,EAAQ,IAAI;AAAA,2CACpBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,0EAGXA,EAAQ,KAAK;AAAA,0EACbA,EAAQ,KAAK;AAAA,6EACVA,EAAQ,QAAQ;AAAA,8EACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,MAMzFC,EAAaC,GAAS,CACxBA,EAAM,eAAc,EAEpBL,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAM,8BAA8BF,EAAW,KAAK,2EAA2E,EAC3H,KAAKO,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGtC,OAAOA,EAAS,MACxB,CAAQ,EACA,KAAKC,GAAQ,CAEV,GAAIA,EAAK,KAAK,SAAW,EACxBC,EAAS,KAAK,CACV,QAAS,2EAET,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,kBAAmB,OAEnB,SAAU,IACV,SAAU,WAEV,QAAS,sBACzB,CAAa,MACK,CACLT,EAAW,MAAQ,GACnB,MAAMU,EAAgBF,EAAK,KAAK,IAAIG,GAAOR,EAAkBQ,CAAG,CAAC,EAAE,KAAK,EAAE,EAC1EV,EAAQ,UAAYS,EACpBZ,EAAS,QAAO,EAEhBI,EAAO,UAAU,IAAI,WAAW,CACjC,CACZ,CAAQ,EACA,MAAMU,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC1B,CAAQ,CACR,EAEA,SAAS,iBAAiB,mBAAoB,UAAW,CACrDd,EAAW,IAAIe,EAAe,gBAAiB,CAC3C,SAAU,GACV,aAAc,IACd,eAAgB,IAChB,aAAc,OACtB,CAAK,CACL,CAAC,EAEDd,EAAK,iBAAiB,SAAUM,CAAU"}