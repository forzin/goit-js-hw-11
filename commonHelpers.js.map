{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = (imgInfo) => {\n    return `\n    <li class=\"gallery-card\">\n       <a href=\"${imgInfo.largeImageURL}\" title=\"${imgInfo.tags}\">\n           <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n       </a>\n       <ul class=\"stat-img\">\n           <li class=\"img-stat-item\">Likes <span class=\"number-of-stat\">${imgInfo.likes}</span></li>\n           <li class=\"img-stat-item\">Views <span class=\"number-of-stat\">${imgInfo.views}</span></li>\n           <li class=\"img-stat-item\">Comments <span class=\"number-of-stat\">${imgInfo.comments}</span></li>\n           <li class=\"img-stat-item\">Downloads <span class=\"number-of-stat\">${imgInfo.downloads}</span></li>\n       </ul>\n    </li>\n    `;\n}","\nconst BASE_URL = 'https://pixabay.com/api/'\n\nexport const fetchPhotos = searchParams => {\n\n    const urlParams = new URLSearchParams ({\n        q: searchParams,\n        orientation: `horizontal`,\n        per_page: 9,\n        key: '45497630-f588d73f1b1f7379927f92167',\n    });\n\n    return fetch(`${BASE_URL}?${urlParams}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n     return response.json();\n    });\n};","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport {createGalleryCard} from './js/render-functions';\nimport {fetchPhotos} from './js/pixabay-api';\n\nlet lightbox;\n\nconst form = document.querySelector(`.form`);\nconst inputValue = document.querySelector(`input[type=\"text\"]`);\nconst gallery = document.querySelector(`.ul-gallery`);\nconst loader = document.querySelector(`.loader-container`);\n\nconst searchForm = event => {\n    event.preventDefault();\n\n    const searchValue = form.elements.user_value.value;\n    fetchPhotos(searchValue).then(data => {\n        if (searchValue.length === 0) {\n            iziToast.show({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n\n                backgroundColor: '#ef4040',\n                messageColor: '#fafafb',\n                messageSize: '16px',\n                messageLineHeight: '150%',\n\n                maxWidth: 432,\n                position: 'topRight',\n\n                iconUrl: `./img/icon-error.svg`,\n            });\n            loader.classList.add(`is-hidden`);\n           } else {\n             inputValue.value = '';\n             const createGallery = data.hits.map(img => createGalleryCard(img)).join('');\n             gallery.innerHTML = createGallery;\n             lightbox.refresh();\n\n             loader.classList.add(`is-hidden`);\n           }\n    }).catch(err => {\n        console.log(err);\n    })\n    \n    gallery.innerHTML = '';\n    loader.classList.remove(`is-hidden`);\n};\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    lightbox = new SimpleLightbox('.ul-gallery a', {\n        captions: true,\n        captionDelay: 250,\n        animationSpeed: 300,\n        captionsData: 'title'\n    });\n});\n\nform.addEventListener(`submit`, searchForm);\n    "],"names":["createGalleryCard","imgInfo","BASE_URL","fetchPhotos","searchParams","urlParams","response","lightbox","form","inputValue","gallery","loader","searchForm","event","searchValue","data","iziToast","createGallery","img","err","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAqBC,GACvB;AAAA;AAAA,kBAEOA,EAAQ,aAAa,YAAYA,EAAQ,IAAI;AAAA,2CACpBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,0EAGXA,EAAQ,KAAK;AAAA,0EACbA,EAAQ,KAAK;AAAA,6EACVA,EAAQ,QAAQ;AAAA,8EACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,MCTzFC,EAAW,2BAEJC,EAAcC,GAAgB,CAEvC,MAAMC,EAAY,IAAI,gBAAiB,CACnC,EAAGD,EACH,YAAa,aACb,SAAU,EACV,IAAK,oCACb,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EACtC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGtC,OAAOA,EAAS,MACrB,CAAK,CACL,ECVA,IAAIC,EAEJ,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,mBAAmB,EAEnDC,EAAaC,GAAS,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAcN,EAAK,SAAS,WAAW,MAC7CL,EAAYW,CAAW,EAAE,KAAKC,GAAQ,CAClC,GAAID,EAAY,SAAW,EACvBE,EAAS,KAAK,CACV,QAAS,2EAET,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,kBAAmB,OAEnB,SAAU,IACV,SAAU,WAEV,QAAS,sBACzB,CAAa,EACDL,EAAO,UAAU,IAAI,WAAW,MAC1B,CACLF,EAAW,MAAQ,GACnB,MAAMQ,EAAgBF,EAAK,KAAK,IAAIG,GAAOlB,EAAkBkB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC1ER,EAAQ,UAAYO,EACpBV,EAAS,QAAO,EAEhBI,EAAO,UAAU,IAAI,WAAW,CACjC,CACZ,CAAK,EAAE,MAAMQ,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAK,EAEDT,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,WAAW,CACvC,EAEA,SAAS,iBAAiB,mBAAoB,UAAW,CACrDJ,EAAW,IAAIa,EAAe,gBAAiB,CAC3C,SAAU,GACV,aAAc,IACd,eAAgB,IAChB,aAAc,OACtB,CAAK,CACL,CAAC,EAEDZ,EAAK,iBAAiB,SAAUI,CAAU"}